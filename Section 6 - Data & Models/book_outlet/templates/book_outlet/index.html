{% extends "book_outlet/base.html" %}
<!-- 
  *NOTES*
  This line indicates that this template extends from the `base.html` template located in the `book_outlet` directory.
  Template inheritance allows for a consistent layout across multiple templates.
  https://docs.djangoproject.com/en/5.0/ref/templates/language/#template-inheritance 
-->

{% block title %}
  All Books
{% endblock %}
<!-- 
  *NOTES*
  This block sets the title of the page to "All Books".
  The `block` tags define a block that can be overridden in child templates.
  https://docs.djangoproject.com/en/5.0/ref/templates/language/#template-inheritance 
-->

{% block content %}
<!-- 
  *NOTES*
  This block defines the content section of the page.
  The content inside this block will be rendered in the `{% block content %}` section of the `base.html` template.
  https://docs.djangoproject.com/en/5.0/ref/templates/language/#template-inheritance 
-->

  <ul>
    {% for book in books %}
      <li><a href="{{ book.get_absolute_url }}">{{ book.title }}</a> (Rating: {{ book.rating }})</li>
      <!-- 
        *NOTES*
        This line creates a list item for each book in the `books` context variable.
        The list item contains a link to the book's detail page using the `get_absolute_url` method and displays the book's title and rating.
        https://docs.djangoproject.com/en/5.0/ref/templates/builtins/#for 
      -->
    {% endfor %}
  </ul>

  <hr>

  <p>Total Number Of Books: {{ total_number_of_books }}</p>
  <!-- 
    *NOTES*
    This line displays the total number of books using the `total_number_of_books` context variable.
    https://docs.djangoproject.com/en/5.0/ref/templates/builtins/#variables 
  -->

  <p>Average Rating: {{ average_rating.rating__avg }}</p>
  <!-- 
    *NOTES*
    This line displays the average rating of the books using the `average_rating.rating__avg` context variable.
    The `rating__avg` key is generated by the `aggregate` function in the view.
    https://docs.djangoproject.com/en/5.0/topics/db/aggregation/#cheat-sheet 
  -->
{% endblock %}
