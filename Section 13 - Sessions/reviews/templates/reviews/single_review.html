{% extends "reviews/base.html" %}

{% block title %}Review Detail{% endblock %}

{% block content %}
  <h1>{{ review.user_name }}</h1>
  <p>Rating: {{ review.rating }}</p>
  <p>{{ review.review_text }}</p>
  {% if is_favorite %}
    <p>This is my favorite!</p>
  {% else %}
    <form action="/reviews/favorite" method="POST">
      {% csrf_token %}
      <input type="hidden" name="review_id" value="{{ review.id }}">
      <button>Favorite</button>
    </form>
    <!--
    *NOTES*
    This form allows the user to mark the review as a favorite.
    The `action` attribute specifies the URL to which the form data will be submitted.
    The `method` attribute specifies that the form will be submitted using the POST method.
    The `{% csrf_token %}` tag adds a CSRF token to the form for security.
    The hidden input field includes the `review_id` which is sent with the form data.
    https://docs.djangoproject.com/en/3.1/ref/csrf/
    https://docs.djangoproject.com/en/3.1/topics/forms/#the-view
    https://docs.djangoproject.com/en/3.1/topics/forms/#form-template
    -->
  {% endif %}
{% endblock %}